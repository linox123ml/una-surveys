import{p as L,q as E,l as y,i as h,A as U,s as q,x as W,B as z,E as w,o as P,c as j,a as T,g as B,w as M,b as k,m as R,e as Q,d as J,t as A,M as Y,F as Z,j as G,n as X}from"./index-4eec3473.js";import{m as $,F as ee,f as te,h as ae,o as b,d as ne,u as le,l as D,H as N,t as _,p as oe,a as F,b as p,v as re,N as C,_ as K,O as ue}from"./use-outside-click-bb517905.js";import{b as ie,p as se,u as ce,x as de,a as x}from"./use-text-value-12d304eb.js";function ve({container:a,accept:d,walk:g,enabled:v}){L(()=>{let e=a.value;if(!e||v!==void 0&&!v.value)return;let c=$(a);if(!c)return;let i=Object.assign(s=>d(s),{acceptNode:d}),f=c.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,i,!1);for(;f.nextNode();)g(f.currentNode)})}var pe=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(pe||{}),fe=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(fe||{});function me(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let V=Symbol("MenuContext");function O(a){let d=z(V,null);if(d===null){let g=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(g,O),g}return d}let be=E({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:d,attrs:g}){let v=y(1),e=y(null),c=y(null),i=y([]),f=y(""),s=y(null),o=y(1);function t(l=r=>r){let r=s.value!==null?i.value[s.value]:null,u=ue(l(i.value.slice()),I=>b(I.dataRef.domRef)),n=r?u.indexOf(r):null;return n===-1&&(n=null),{items:u,activeItemIndex:n}}let m={menuState:v,buttonRef:e,itemsRef:c,items:i,searchQuery:f,activeItemIndex:s,activationTrigger:o,closeMenu:()=>{v.value=1,s.value=null},openMenu:()=>v.value=0,goToItem(l,r,u){let n=t(),I=de(l===x.Specific?{focus:x.Specific,id:r}:{focus:l},{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:S=>S.id,resolveDisabled:S=>S.dataRef.disabled});f.value="",s.value=I,o.value=u??1,i.value=n.items},search(l){let r=f.value!==""?0:1;f.value+=l.toLowerCase();let u=(s.value!==null?i.value.slice(s.value+r).concat(i.value.slice(0,s.value+r)):i.value).find(I=>I.dataRef.textValue.startsWith(f.value)&&!I.dataRef.disabled),n=u?i.value.indexOf(u):-1;n===-1||n===s.value||(s.value=n,o.value=1)},clearSearch(){f.value=""},registerItem(l,r){let u=t(n=>[...n,{id:l,dataRef:r}]);i.value=u.items,s.value=u.activeItemIndex,o.value=1},unregisterItem(l){let r=t(u=>{let n=u.findIndex(I=>I.id===l);return n!==-1&&u.splice(n,1),u});i.value=r.items,s.value=r.activeItemIndex,o.value=1}};return ee([e,c],(l,r)=>{var u;m.closeMenu(),te(r,ae.Loose)||(l.preventDefault(),(u=b(e))==null||u.focus())},h(()=>v.value===0)),U(V,m),ne(h(()=>le(v.value,{[0]:D.Open,[1]:D.Closed}))),()=>{let l={open:v.value===0,close:m.closeMenu};return N({ourProps:{},theirProps:a,slot:l,slots:d,attrs:g,name:"Menu"})}}}),ge=E({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${_()}`}},setup(a,{attrs:d,slots:g,expose:v}){let e=O("MenuButton");v({el:e.buttonRef,$el:e.buttonRef});function c(o){switch(o.key){case p.Space:case p.Enter:case p.ArrowDown:o.preventDefault(),o.stopPropagation(),e.openMenu(),w(()=>{var t;(t=b(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(x.First)});break;case p.ArrowUp:o.preventDefault(),o.stopPropagation(),e.openMenu(),w(()=>{var t;(t=b(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(x.Last)});break}}function i(o){switch(o.key){case p.Space:o.preventDefault();break}}function f(o){a.disabled||(e.menuState.value===0?(e.closeMenu(),w(()=>{var t;return(t=b(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(o.preventDefault(),e.openMenu(),me(()=>{var t;return(t=b(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let s=ie(h(()=>({as:a.as,type:d.type})),e.buttonRef);return()=>{var o;let t={open:e.menuState.value===0},{id:m,...l}=a,r={ref:e.buttonRef,id:m,type:s.value,"aria-haspopup":"menu","aria-controls":(o=b(e.itemsRef))==null?void 0:o.id,"aria-expanded":a.disabled?void 0:e.menuState.value===0,onKeydown:c,onKeyup:i,onClick:f};return N({ourProps:r,theirProps:l,slot:t,attrs:d,slots:g,name:"MenuButton"})}}}),Ie=E({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${_()}`}},setup(a,{attrs:d,slots:g,expose:v}){let e=O("MenuItems"),c=y(null);v({el:e.itemsRef,$el:e.itemsRef}),ve({container:h(()=>b(e.itemsRef)),enabled:h(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function i(t){var m;switch(c.value&&clearTimeout(c.value),t.key){case p.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case p.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let l=e.items.value[e.activeItemIndex.value];(m=b(l.dataRef.domRef))==null||m.click()}e.closeMenu(),K(b(e.buttonRef));break;case p.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(x.Next);case p.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(x.Previous);case p.Home:case p.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(x.First);case p.End:case p.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(x.Last);case p.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),w(()=>{var l;return(l=b(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})});break;case p.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),w(()=>re(b(e.buttonRef),t.shiftKey?C.Previous:C.Next));break;default:t.key.length===1&&(e.search(t.key),c.value=setTimeout(()=>e.clearSearch(),350));break}}function f(t){switch(t.key){case p.Space:t.preventDefault();break}}let s=oe(),o=h(()=>s!==null?(s.value&D.Open)===D.Open:e.menuState.value===0);return()=>{var t,m;let l={open:e.menuState.value===0},{id:r,...u}=a,n={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(m=b(e.buttonRef))==null?void 0:m.id,id:r,onKeydown:i,onKeyup:f,role:"menu",tabIndex:0,ref:e.itemsRef};return N({ourProps:n,theirProps:u,slot:l,attrs:d,slots:g,features:F.RenderStrategy|F.Static,visible:o.value,name:"MenuItems"})}}}),xe=E({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${_()}`}},setup(a,{slots:d,attrs:g,expose:v}){let e=O("MenuItem"),c=y(null);v({el:c,$el:c});let i=h(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===a.id:!1),f=se(c),s=h(()=>({disabled:a.disabled,get textValue(){return f()},domRef:c}));q(()=>e.registerItem(a.id,s)),W(()=>e.unregisterItem(a.id)),L(()=>{e.menuState.value===0&&i.value&&e.activationTrigger.value!==0&&w(()=>{var n,I;return(I=(n=b(c))==null?void 0:n.scrollIntoView)==null?void 0:I.call(n,{block:"nearest"})})});function o(n){if(a.disabled)return n.preventDefault();e.closeMenu(),K(b(e.buttonRef))}function t(){if(a.disabled)return e.goToItem(x.Nothing);e.goToItem(x.Specific,a.id)}let m=ce();function l(n){m.update(n)}function r(n){m.wasMoved(n)&&(a.disabled||i.value||e.goToItem(x.Specific,a.id,0))}function u(n){m.wasMoved(n)&&(a.disabled||i.value&&e.goToItem(x.Nothing))}return()=>{let{disabled:n}=a,I={active:i.value,disabled:n,close:e.closeMenu},{id:S,...H}=a;return N({ourProps:{id:S,ref:c,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,disabled:void 0,onClick:o,onFocus:t,onPointerenter:l,onMouseenter:l,onPointermove:r,onMousemove:r,onPointerleave:u,onMouseleave:u},theirProps:{...g,...H},slot:I,attrs:g,slots:d,name:"MenuItem"})}}});function ye(a,d){return P(),j("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[T("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})])}const he={class:"px-1 py-1"},Re={__name:"HDropDown",props:{items:{type:Array,default:[{title:"Perfil",icon:"icon-perfil"},{title:"Salir",icon:"icon-salir"}]},textButton:{type:String,default:"Button"}},setup(a){return(d,g)=>(P(),B(R(be),{as:"div",class:"relative inline-block text-left"},{default:M(()=>[T("div",null,[k(R(ge),{class:"inline-flex w-full justify-center rounded-md bg-black bg-opacity-80 px-4 py-2 text-sm font-medium text-white hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},{default:M(()=>[Q(d.$slots,"contentButton",{},()=>[J(A(a.textButton)+" ",1),k(R(ye),{class:"ml-2 -mr-1 h-5 w-5 text-blue-200 hover:text-blue-100","aria-hidden":"true"})])]),_:3})]),k(Y,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:M(()=>[k(R(Ie),{class:"absolute right-0 mt-2 w-auto min-w-full origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:M(()=>[T("div",he,[(P(!0),j(Z,null,G(a.items,(v,e)=>(P(),B(R(xe),null,{default:M(({active:c})=>[T("button",{class:X([c?"bg-blue-500 text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},A(v.title),3)]),_:2},1024))),256))])]),_:1})]),_:1})]),_:3}))}};export{Re as _,ve as p};
